<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script>
        function singleDiff(word1, word2) {
            var mapObj = {};
            var arr1 = Array.prototype.slice.call(word1);
            var arr2 = Array.prototype.slice.call(word2);

            //console.log(word1, word2);

            var count = 0;

            var len = (arr1.length > arr2.length) ? arr1.length : arr2.length;

            for(var j = 0; j < len; j++){
                for(var k = 0; k < len; k++){
                    if(arr1[j] === arr2[k]){
                        if(checkInObj(arr2[k])) {
                            mapObj[j] = arr2[k];
                            break;
                        }
                    }else{
                        mapObj[j] = 'diff';
                    }
                }
            }

            function checkInObj(c){
                for(var p in mapObj){
                    if(mapObj[p] === c) return false;
                }
                return true;
            }

            for(var prop in mapObj){
                if(mapObj[prop] === 'diff'){
                    count++;
                }
            }

            //console.log(mapObj);

            //console.log(count);
            if(count === 1) return true;
            else return false;
        }

        function assert(action, exp){
            if(action !== exp){
                console.log('Did not pass test. Expected: ' + exp + ' got: ' + action);
            }else{
                console.log('Passed: ' + action + ' === ' + exp);
            }
        }

        document.addEventListener('DOMContentLoaded', function () {

            assert(singleDiff('toy','dog'),false);
            assert(singleDiff('toy','toys'),true);
            assert(singleDiff('toy','soy'),true);
            assert(singleDiff('cat','cart'),true);
            assert(singleDiff('met','me'),true);
            assert(singleDiff('time','emit'),false);
            assert(singleDiff('short','longlonglong'),false);
            assert(singleDiff('longlonglong','short'),false);
            assert(singleDiff('abcd','xbcde'),false);
            assert(singleDiff('abcd','axbcd'),true);
            assert(singleDiff('abc','abc'),false);
            assert(singleDiff('a','b'),true);
            assert(singleDiff('tom','tim'),true);
            assert(singleDiff('cat','car'),true);
            assert(singleDiff('abcd','axbxcd'),false);
            assert(singleDiff('casts','cats'),true);
            assert(singleDiff('adog','dog'),true);
            assert(singleDiff('cast','cat'),true);
        });

    </script>
</head>
<body>

</body>
</html>